FROM node:16

WORKDIR /app

# Kopírujeme konfigurační soubory pro npm
COPY package*.json ./

# Instalujeme závislosti
RUN npm install

# Kopírujeme zbytek souborů
COPY . .

# Expose port for development server
EXPOSE 3000

# Zjistíme dostupné skripty a použijeme ten správný
# Například pro Vite:
CMD ["npm", "run", "dev"]
# Nebo pro obecné spuštění serveru:
# CMD ["npx", "serve", "-s", "build", "-l", "3000"]